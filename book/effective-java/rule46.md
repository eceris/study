# 규칙 46. for 문 보다는 for-each 문을 사용하라

지역 변수의 유효범위를 최소화하는 가장 강력한 기법은, 처음으로 사용하는 곳에서 선언하는 것.
지역 변수를 너무 빨리 선언하면, 그 변수의 자료형과 초기값이 무엇이었는지 잊어버림. 또한 스코프가 너무 넓어짐.

### 순환문을 잘 사용하면 유효범위를 최소화 할 수 있음.
for 문이나 for-each 문은 순환문 변수<sup>loop variable</sup> 이른 ㄴ것을 선언할 수있는데, 그 유효범위는 선언된 지역안으로 제한.

```java
// 컬렉션을 순회할 때는 이 숙어대로 하는 것이 바람직
for (Element e : c) {
	doSomething(e);
}
```

따라서 **while문** 보다는 **for문**을 권장한다.

for-each 문으로는 **컬렉션**과 **배열** 뿐 아니라 **Iterable** 인터페이스를 구현하는 어떤 객체도 순회할 수 있다.

### 그러나 아래의 세가지 경우에는 for-each 문을 적용할 수 없다.

#### 필터링
컬렉션을 순회하다가 특정한 **원소를 삭제** 할 필요가 있다면, 반복자를 명시적으로 사용해야 한다. remove 메소드를 호출해야 하기 때문.


#### 변환
리스트나 배열을 순회하다가 그 원소가운데 일부 혹은 전부의 값을 **변경** 해야 한다면, 원소의 값을 수정하기 위해 리스트 **반복자**나 **배열 첨자**가 필요하다.


#### 병렬 순회
여러 컬렉션을 병렬적으로 순회해야 하고, 모든 반복자나 첨자 변수가 발맞춰 나아가도록 구현해야 한다면 **반복자** 나 **첨자 변수** 를 명시적으로 제어할 필요가 있다.

> for-each 문은 전통적인 for 문에 비해 명료하고 버그 발생 가능성도 적으며, 성능도 for문에 뒤지지 않는다. 그러므로 가능하다면 꼭 사용해야 한다.
