# 객체지향 프로그래밍
## 영화 예매 시스템

### 요구사항 살펴보기
- 할인액을 결정하는 할인 조건<sup>discount condition</sup> 과 할인 정책<sup>discount policy</sup>이 존재

## 객체지향 프로그래밍을 향해

### 협력, 객체, 클래스
- 진정한 객체지향 패러다임으로의 전환은 아래 두가지에 집중해야 함.
	- 어떤 클래스가 필요한지를 고민하기 전에 어떤 `객체`가 필요한지 고민할 것.
	- 객체를 독립적인 존재가 아니라 기능을 구현하기 위해 `협력`하는 공동체의 일원으로 볼 것.

### 도메인의 구조를 따르르는 프로그램 구조
- 문제를 해결하기 위해 사용자가 프로그램을 사용하는 분야를 `도메인`이라고 부름.

### 클래스 구현하기

#### 자율적인 객체
- 객체가 상태와 행동을 함께 가지는 `복합적인` 존재.
- 객체가 스스로 판단하고 행동하는 `자율적인` 존재.

#### 프로그래머의 자유
- 클라이언트 개발자가 숨겨놓은 부분에 접근하지 못하도록 방지함으로써 내부구현을 마음대로 변경할 수 있는데 이것을 `정보은닉`이라고 부른다.

#### 협력에 관한 짧은 이야기
- 객체가 다른 객체와 상호작용할 수 있는 유일한 방법은 `메시지를 전송` 하는 것.
- 다른 객체에게 요청이 도착할 때 해당 객체가 `메시지를 수신`했다고 함.
- 수신된 메시지를 처리하기 위한 객체 자신만의 방법을 `메서드`라고 함.

### 할인 정책과 할인 조건
- 부모 클래스에 기본적인 알고리즘의 흐름을 구현하고 중간에 필요한 처리를 자식 클래스에게 위임하는 디자인 패턴<sup>TEMPLATE PATTERN</sup>
![discount_policy.JPG](discount_policy.JPG)

### 할인 정책 구성하기
```java
Movie titanic = new Movie("타이타닉",
	Duration.ofMinutes(180),
	Money.wons(11000),
	new PercentDiscountPolicy(0.1),
		new PeriodCondition(DayOfWeek.TUESDAY, LocalTime.of(14,0), LocalTime.of(16, 59),
		new SequenceCondition(2),
		new PeriodCondition(DayOfWeek.THURSDAY, LocalTime.of(10,0), LocalTime.of(13, 59)));
```

## 상속과 다형성

### 컴파일 시간 의존성과 실행 시간 의존성
- 코드의 의존성과 실행 시점의 의존성이 다를 수 있음.
- 다르면 다를 수록, 코드의 가독성이 떨어지지만, 유연하해지고 확장 가능해짐.(의존성의 양면성은 설계가 트레이드오프의 산물이라는 것을 잘 보여줌.)

### 상속과 인터페이스
- 대부분의 사람들은 상속의 목적이 메서드나 인스턴스 변수를 재사용하는 것이라고 생각함. 
